<!DOCTYPE html>
<html>
<head>
	<title>Autohome</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="iframe-navigator/navigation.css">
</head>
<body>

<div id="sidenav">
	<h3>GFX Experiments</h3>
</div>

<script type="module">
	import * as DirInfo from "./FileList.js"

	const sideNav = document.getElementById("sidenav")
	const fileList = DirInfo.default.fileList
	fileList.forEach((file, index) => {
		if(file) {
			console.log(file)
			const anchor = document.createElement("a")
			anchor.setAttribute("href", `${file}`)
			const token = "/index"
			const pos = file.indexOf(token)
			let path = file.substring(0, pos)
			let name = file.substring(pos+token.length).replace(/^-/,'').replace(".html", "")
			if(name === '') {
				const pos2 = file.indexOf('/')
				if(pos2<=0) {
					name = path
					path = ""
				} else {
					name = path.substring(pos2+1)
					path = path.substring(0, pos2)
				}
			}

			anchor.innerHTML = `${path} <b>${name}</b>`
			sideNav.appendChild(anchor)
		}
	})
</script>
<script>
	window.singleIframe=true
</script>
<script src="iframe-navigator/navigation.js"></script>
</body>
</html>
